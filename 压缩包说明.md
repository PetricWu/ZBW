# 招标代理网站 - 完整压缩包

> **使用 Netlify Functions 实现自动更新**

---

## 📦 压缩包信息

- **文件名**：`tender-website.tar.gz`
- **大小**：约 150KB
- **文件数**：85+
- **版本**：v3.0
- **日期**：2026年2月1日

---

## 🌟 核心特性

✅ **Netlify Functions** - 无服务器函数，自动更新文章索引
✅ **自动部署** - 推送到 GitHub，自动部署
✅ **响应式设计** - 完美适配移动端
✅ **百度SEO优化** - 深度优化 TDK 和结构化数据
✅ **手工设计质感** - 拒绝 AI 模板化
✅ **零维护成本** - 纯静态部署

---

## 🚀 快速开始（3步）

### Step 1：解压文件

**Linux/Mac:**
```bash
tar -xzf tender-website.tar.gz
cd tender-website
```

**Windows:**
- 使用 7-Zip 或 WinRAR 解压

---

### Step 2：部署到 Netlify

**5分钟完成部署**：

1. 推送到 GitHub（2分钟）
2. 在 Netlify 导入 GitHub 仓库（1分钟）
3. 等待部署完成（1分钟）
4. 完成！

详细步骤请查看 **[完整教程.md](./完整教程.md)**

---

### Step 3：使用 Functions 自动更新

**上传新文章**：
1. 在 GitHub 仓库的 `markdown/` 文件夹上传 `.md` 文件
2. 推送到 GitHub，触发自动部署
3. 访问 `https://你的网站.netlify.app/api/update-index`
4. 索引自动更新！

**或使用 GitHub Actions 自动触发**：
- 推送 `.md` 文件到 `markdown/` 文件夹
- GitHub Actions 自动运行 `generate_index.py`
- 自动提交更新的 `index.json`
- Netlify 自动部署
- 文章列表自动更新！

---

## 📚 文档导航

从以下任一文档开始：

### 📖 推荐阅读顺序

| 文档 | 说明 | 适合人群 |
|-----|------|---------|
| **[完整教程.md](./完整教程.md)** ⭐ | 完整的部署和使用教程 | 所有人（从这里开始！） |
| [QUICKSTART.md](./QUICKSTART.md) | 5分钟快速开始 | 快速部署 |
| [FUNCTIONS_QUICKREF.md](./FUNCTIONS_QUICKREF.md) | Functions 快速参考 | 使用 Functions |
| [NETLIFY_FUNCTIONS_GUIDE.md](./NETLIFY_FUNCTIONS_GUIDE.md) | Functions 详细指南 | 深入了解 |
| [README.md](./README.md) | 项目完整说明 | 了解项目 |

### 📄 所有文档

| 文档 | 说明 |
|-----|------|
| 完整教程.md | 完整部署教程（推荐）⭐ |
| 快速开始.txt | 压缩包内快速开始 |
| QUICKSTART.md | 快速开始指南 |
| NETLIFY_FUNCTIONS_GUIDE.md | Functions 详细指南 |
| FUNCTIONS_QUICKREF.md | Functions 快速参考 |
| FUNCTIONS_INTEGRATION_SUMMARY.md | Functions 集成总结 |
| NETLIFY_DEPLOYMENT_GUIDE.md | Netlify 部署指南 |
| ARTICLE_SYSTEM_GUIDE.md | 文章系统指南 |
| PROJECT_FILES.md | 项目文件说明 |
| README.md | 完整项目文档 |
| 压缩包说明.md | 本文档 |

---

## 🎯 Functions 功能

### 1. 文章索引更新函数

**功能**：自动扫描 markdown 文件并更新索引

**调用方式**：
```bash
# 浏览器访问
https://你的网站.netlify.app/api/update-index

# JavaScript
fetch('/api/update-index')
  .then(r => r.json())
  .then(result => {
    console.log('文章总数:', result.data.total);
  });
```

**使用场景**：
- ✅ 上传新文章后，更新索引
- ✅ 无需手动运行 Python 脚本
- ✅ 自动化程度更高

---

### 2. 联系表单处理函数

**功能**：处理联系表单提交和验证

**调用方式**：
```javascript
const formData = {
  name: '张三',
  email: 'zhangsan@example.com',
  message: '我想咨询...'
};

fetch('/api/contact', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify(formData)
}).then(r => r.json()).then(console.log);
```

**使用场景**：
- ✅ 接收联系表单数据
- ✅ 验证表单输入
- ✅ 保存表单数据到文件
- ✅ 可选：发送邮件通知

---

## 📁 主要文件

### 核心页面

| 文件 | 说明 |
|-----|------|
| `index.html` | 网站首页 |
| `articles.html` | 文章列表页 |
| `post.html` | 文章详情页 |
| `about.html` | 关于我们 |
| `contact.html` | 联系方式 |
| `404.html` | 404页面 |

### Functions

| 文件 | 说明 |
|-----|------|
| `netlify/functions/update-index.js` | 文章索引更新函数 |
| `netlify/functions/contact.js` | 联系表单处理函数 |

### 配置文件

| 文件 | 说明 |
|-----|------|
| `config.js` | 网站配置 |
| `netlify.toml` | Netlify 部署配置 |
| `generate_index.py` | 文章索引生成脚本 |

### 资源文件

| 文件夹 | 说明 |
|-------|------|
| `css/` | 样式文件（12个） |
| `js/` | 脚本文件（5个） |
| `images/` | 图片资源 |
| `markdown/` | 文章文件（8篇） |

---

## ⚙️ 配置说明

### netlify.toml 关键配置

**更新日志（v3.1）**：
- ✅ 修复 Functions 配置语法错误
- ✅ 移除 Lighthouse 插件（避免构建失败）
- ✅ 优化构建配置

```toml
[build]
  [build.functions]
    directory = "netlify/functions"
    node_bundler = "esbuild"

[context.production.environment]
  INDEX_FILE_PATH = "markdown/index.json"
  SAVE_FORM_DATA = "true"

[[redirects]]
  from = "/api/update-index"
  to = "/.netlify/functions/update-index"
```

### config.js 关键配置

```javascript
const SITE_CONFIG = {
  siteName: "你的公司名称",
  siteDescription: "你的网站描述",
  contact: {
    companyName: "你的公司全称",
    address: "你的地址",
    phone: "你的电话",
    email: "你的邮箱"
  }
};
```

---

## 💡 使用建议

### 修改网站信息

1. 编辑 `config.js`
2. 修改 `siteName`、`siteDescription` 和 `contact` 信息
3. 提交到 GitHub，自动更新

### 发布新文章

**方法1：使用 Functions 自动更新（推荐）**

1. 上传 `.md` 文件到 `markdown/` 文件夹
2. 推送到 GitHub
3. 访问 `/api/update-index`
4. 索引自动更新！

**方法2：使用 GitHub Actions 自动触发**

1. 上传 `.md` 文件到 `markdown/` 文件夹
2. 推送到 GitHub
3. GitHub Actions 自动运行 `generate_index.py`
4. 索引自动更新！

### 集成联系表单

参考 **[完整教程.md](./完整教程.md)** 中的"集成联系表单"章节。

---

## 🔍 验证部署

部署完成后，验证以下项目：

### 基础功能

- [ ] 首页能正常访问
- [ ] 所有页面链接正常
- [ ] 文章列表能正常显示
- [ ] 文章详情页能正常跳转

### Functions 功能

- [ ] `/api/update-index` 能正常访问
- [ ] `/api/contact` 能正常处理表单
- [ ] Functions 日志正常

### 自动更新

- [ ] 上传新文章后，能通过 `/api/update-index` 更新索引
- [ ] 或 GitHub Actions 自动触发更新

---

## 🐛 常见问题

### Q: Functions 返回 404？

**A**:
1. 检查 `netlify/functions/` 目录是否存在
2. 查看部署日志
3. 尝试重新部署

### Q: 文章索引不更新？

**A**:
1. 访问 `/api/update-index` 检查是否工作
2. 查看环境变量配置
3. 查看 Functions 日志

### Q: 表单提交失败？

**A**:
1. 检查必填字段
2. 检查浏览器控制台错误
3. 查看 Functions 日志

### Q: 如何查看 Functions 日志？

**A**:
1. 进入 Netlify 控制台
2. 点击 `Functions` 标签
3. 选择对应的函数
4. 查看日志

更多问题请查看 **[完整教程.md](./完整教程.md)** 中的"常见问题"章节。

---

## 📞 获取帮助

如有问题，请查看：

1. **[完整教程.md](./完整教程.md)** - 完整的部署和使用教程
2. **[NETLIFY_FUNCTIONS_GUIDE.md](./NETLIFY_FUNCTIONS_GUIDE.md)** - Functions 详细指南
3. **[README.md](./README.md)** - 项目完整说明
4. Netlify 控制台的 Functions 日志

---

## 🎉 完成状态

✅ 所有核心功能已实现
✅ Netlify Functions 已集成
✅ 文档完整详细
✅ 可以直接部署

---

## 🚀 下一步

1. **阅读完整教程**：[完整教程.md](./完整教程.md)
2. **部署到 Netlify**：按照教程操作
3. **测试 Functions**：验证自动更新功能
4. **发布第一篇文章**：使用 Functions 自动更新索引

---

**版本**：v3.0
**日期**：2026年2月1日
**状态**：✅ 已完成

祝使用愉快！🎉
